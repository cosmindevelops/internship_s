public class Book
{
    public int BookId { get; set; }
    public string Title { get; set; }
    public string Author { get; set; }
    public string ISBN { get; set; }
    public int Quantity { get; set; }

    // Navigation property
    public ICollection<BorrowingRecord> BorrowingRecords { get; set; }

    public bool IsAvailable()
    {
        // Implementation of the method
    }
}

public class Patron
{
    public int PatronId { get; set; }
    public string Name { get; set; }
    public string ContactInformation { get; set; }

    // Navigation property
    public ICollection<BorrowingRecord> BorrowingRecords { get; set; }
}

public class BorrowingRecord
{
    public int BorrowingRecordId { get; set; }
    public int BookId { get; set; }
    public int PatronId { get; set; }
    public DateTime BorrowedDate { get; set; }
    public DateTime DueDate { get; set; }
    public DateTime? ReturnedDate { get; set; }

    // Navigation properties
    public Book Book { get; set; }
    public Patron Patron { get; set; }
}

public class LibraryManager
{
    private List<Book> books;
    private List<Patron> patrons;

    public LibraryManager()
    {
        books = new List<Book>();
        patrons = new List<Patron>();
    }

    // Căutare carte
    public IEnumerable<Book> SearchBooks(string searchTerm)
    {
        // Implementation of the method
    }

    // Adăugarea unei cărți
    public void AddBook(Book book)
    {
        // Implementation of the method
    }

    // Ștergerea unei cărți
    public void RemoveBook(int bookId)
    {
        // Implementation of the method
    }

    // Raport cărți cele mai împrumutate
    public IEnumerable<Book> GetMostBorrowedBooks()
    {
        // Implementation of the method
    }

    // Raport istoric împrumuturi pentru un patron
    public IEnumerable<BorrowingRecord> GetBorrowingHistory(int patronId)
    {
        // Implementation of the method
    }
}