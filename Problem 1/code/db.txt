CREATE TABLE Books (
    BookID INT AUTO_INCREMENT PRIMARY KEY,
    Title VARCHAR(255) NOT NULL,
    Author VARCHAR(255) NOT NULL,
    ISBN VARCHAR(20) NOT NULL UNIQUE,
    Quantity INT NOT NULL CHECK (Quantity >= 0)
);

CREATE TABLE Patrons (
    PatronID INT AUTO_INCREMENT PRIMARY KEY,
    Name VARCHAR(255) NOT NULL,
    ContactInfo VARCHAR(255),
    Balance DECIMAL(10, 2) NOT NULL DEFAULT 0.00 CHECK (Balance >= 0)
);

CREATE TABLE BorrowingRecords (
    RecordID INT AUTO_INCREMENT PRIMARY KEY,
    BookID INT,
    PatronID INT,
    BorrowDate DATE NOT NULL,
    ReturnDate DATE,
    FineRate DECIMAL(5, 2) NOT NULL CHECK (FineRate >= 0),
    FOREIGN KEY (BookID) REFERENCES Books(BookID),
    FOREIGN KEY (PatronID) REFERENCES Patrons(PatronID)
);
